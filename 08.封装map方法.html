<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        function map(array, callback) {
            var len = array.length, i,newArr = [];
            if (typeof len == "number" && len >= 0) {
                for (i = 0; i < len;) {
                    newArr.push(callback.call(array[i], i, array[i++]));
                }
            } else {
                for(i in array){
                    newArr.push(callback.call(array[i],i,array[i++]));
                }
            }

            return newArr;
        }

        var array = [1,3,7,8,4,3];
        var arr = map(array, function (i, v) {
            return v*=2;
        })
        console.log(arr);
    </script>
</head>
<body>

</body>
</html>